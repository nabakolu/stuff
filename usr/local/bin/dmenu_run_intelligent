#!/bin/bash

APPS="$(ls -1 /usr/share/applications)"
CHOICE=$(echo "${APPS//.desktop}" | dmenu -p run -l 10"@")


A="$(grep -m 1 ^Exec= /usr/share/applications/$CHOICE.desktop)"
Exec=${A##Exec=}


if [$(grep "Terminal=true" /usr/share/applications/$CHOICE.desktop) == ""]
	then
	echo "$Exec" | ${SHELL:-"/bin/sh"} &
else
	$TERMINAL -e bash -i -c "$Exec"
fi
